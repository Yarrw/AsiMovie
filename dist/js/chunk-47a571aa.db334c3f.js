(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47a571aa"],{"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),i=r("17c2"),o=r("9112");for(var s in n){var c=a[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(f){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("b301");t.exports=n("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},3829:function(t,e,r){"use strict";var a=r("eee3"),n=r.n(a);n.a},4160:function(t,e,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"4b7f":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"show"},[r("div",{ref:"showbox",staticClass:"show-box",on:{scroll:t.scrollchang}},t._l(t.moviedata.data.subjects,(function(e,a){return r("div",{key:a,ref:"item",refInFor:!0,staticClass:"item clearfix",attrs:{id:e.id},on:{click:function(r){return t.moviedetails({name:"moviedetails",params:{id:e.id}})}}},[r("div",{staticClass:"img-box"},[r("img",{staticClass:"img-auto",attrs:{src:e.images.small,alt:""}})]),r("div",{staticClass:"box clearfix"},[r("div",{staticClass:"title one-text"},[t._v(t._s(e.title))]),r("span",{staticClass:"pingfen"},[t._v("评分")]),r("span",{staticClass:"pin"},[t._v(t._s(e.rating.average))]),r("div",{staticClass:"casts one-text"},[t._v(" 主演:"+t._s(e.avatarsData)+" ")]),r("div",{staticClass:"genres"},[t._v(" "+t._s(e.genresData)+" ")])]),r("div",{staticClass:"btn"},[r("van-button",{class:e.rating.average>0?"buycolor":"willcolor",attrs:{type:"primary",size:"small",round:""},on:{click:function(r){return r.stopPropagation(),t.buy({name:"movietick",params:{id:e.id}})}}},[t._v(t._s(e.rating.average>0?"购票":"预售"))])],1)])})),0)])},n=[],i=(r("a4d3"),r("4de4"),r("4160"),r("a15b"),r("fb6a"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=(r("1157"),r("2f62"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=Object(o["a"])("showModule"),f=u.mapState,l=(u.mapMutations,{name:"show",data:function(){return{timerst:[]}},computed:c({},f(["moviedata","params","isHas","isInit"]),{isreturnInit:function(){return this.$store.state.isreturnInit}}),methods:{getMovieData:function(){var t=this;setTimeout((function(){t.isHas?(t.$toast.loading({duration:0,message:"加载中..."}),t.axios({method:"GET",url:"https://douban.uieee.com/v2/movie/in_theaters",params:t.params}).then((function(e){e.data.subjects.forEach((function(t){t.genresData=t.genres.join(","),t.avatarsData="",t.casts.forEach((function(e){t.avatarsData+=e.name+"/"})),t.avatarsData=t.avatarsData.slice(0,-1)}));t.$refs.showbox;t.$store.commit("showModule/changData",e),t.$toast.clear()}))):t.$toast("没有数据了，( ˙-˙=͟͟͞͞)")}),100)},moviedetails:function(t){this.$router.push(t)},buy:function(t){this.$router.push(t)},scrollchang:function(){var t=this,e=this,r=this.$refs.showbox,a=setTimeout((function(){for(var a=1;a<t.timerst.length;a++)clearTimeout(t.timerst[a]);var n=e.$refs.item[e.$refs.item.length-1],i=n.offsetTop,o=r.scrollTop,s=window.innerHeight-24-46-46-50,c=n.scrollHeight;o+s>=i+c&&e.getMovieData(),t.timerst=[]}),300);this.timerst.push(a)}},created:function(){this.isreturnInit&&this.getMovieData()}}),b=l,d=(r("3829"),r("2877")),h=Object(d["a"])(b,a,n,!1,null,"6630ba3e",null);e["default"]=h.exports},"4de4":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").filter,i=r("d039"),o=r("1dde"),s=o("filter"),c=s&&!i((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));a({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},a15b:function(t,e,r){"use strict";var a=r("23e7"),n=r("44ad"),i=r("fc6a"),o=r("b301"),s=[].join,c=n!=Object,u=o("join",",");a({target:"Array",proto:!0,forced:c||u},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},ade3:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},b0c0:function(t,e,r){var a=r("83ab"),n=r("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,c="name";!a||c in i||n(i,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b301:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!r||!a((function(){r.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,r){var a=r("23e7"),n=r("7b0b"),i=r("df75"),o=r("d039"),s=o((function(){i(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(t){return i(n(t))}})},dbb4:function(t,e,r){var a=r("23e7"),n=r("83ab"),i=r("56ef"),o=r("fc6a"),s=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,a=o(t),n=s.f,u=i(a),f={},l=0;while(u.length>l)r=n(a,e=u[l++]),void 0!==r&&c(f,e,r);return f}})},e439:function(t,e,r){var a=r("23e7"),n=r("d039"),i=r("fc6a"),o=r("06cf").f,s=r("83ab"),c=n((function(){o(1)})),u=!s||c;a({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},eee3:function(t,e,r){}}]);
//# sourceMappingURL=chunk-47a571aa.db334c3f.js.map